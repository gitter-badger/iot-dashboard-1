{"version":3,"sources":["webpack:///./src/app.js","webpack:///./src/pageLayout.js","webpack:///./src/widgets/widgetGrid.ui.js","webpack:///./src/widgets/widgetFrame.ui.js","webpack:///./src/widgets/widthProvider.ui.js","webpack:///./src/layouts/layouts.ui.js","webpack:///./src/dashboard/dashboardMenuEntry.ui.js","webpack:///./src/dashboard/importExportDialog.ui.js","webpack:///./src/datasource/datasourceConfigDialog.ui.js","webpack:///./src/datasource/datasourceNavItem.ui.js","webpack:///./src/widgets/widgetsNavItem.ui.js","webpack:///./src/pluginApi/pluginNavItem.ui.js","webpack:///./src/pluginApi/pluginsDialog.ui.js","webpack:///./src/widgets/plugins/textWidget.js","webpack:///./src/widgets/plugins/chartWidget.js","webpack:///./src/datasource/datasourceWorker.js","webpack:///./src/datasource/plugins/timeDatasource.js","webpack:///./src/pluginApi/freeboardPluginApi.js","webpack:///./src/pluginApi/freeboardDatasource.js"],"names":[],"mappings":"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","file":"app.bundle.js","sourcesContent":["import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {Provider} from \"react-redux\";\nimport Layout from \"./pageLayout\";\nimport _ from \"lodash\";\nimport \"semantic-ui-css/semantic.css\";\nimport \"semantic-ui-css/semantic\";\nimport \"c3css\";\nimport * as Widgets from \"./widgets/widgets\";\nimport WidgetPlugins from \"./widgets/widgetPlugins\";\nimport * as TextWidget from \"./widgets/plugins/textWidget\";\nimport * as ChartWidget from \"./widgets/plugins/chartWidget\";\nimport * as DatasourceWorker from \"./datasource/datasourceWorker\";\nimport * as RandomDatasource from \"./datasource/plugins/randomDatasource\";\nimport * as TimeDatasource from \"./datasource/plugins/timeDatasource\";\nimport store from \"./store\";\nimport * as Store from \"./store\";\nimport * as Plugins from './pluginApi/plugins'\nimport \"./pluginApi/freeboardPluginApi\";\nimport \"./pluginApi/pluginApi\"\n\nconst state = store.getState();\n\nstore.dispatch(Plugins.loadPlugin(TextWidget));\nstore.dispatch(Plugins.loadPlugin(ChartWidget));\n\nstore.dispatch(Plugins.loadPlugin(RandomDatasource));\nstore.dispatch(Plugins.loadPlugin(TimeDatasource));\n\nstore.dispatch(Plugins.initializeExternalPlugins());\n\n// Would delet async loaded widgets that are not known yet.\n//cleanupState(state);\n\nfunction cleanupState(state) {\n    _.valuesIn(state.widgets).forEach((widgetState) => {\n        let widgetPlugin = WidgetPlugins.getPlugin(widgetState.type);\n        if (!widgetPlugin) {\n            console.error(\"No WidgetPlugin for type '\" + widgetState.type + \"'! Deleting the widget.\");\n            store.dispatch(Widgets.deleteWidget(widgetState.id));\n            return null;\n        }\n    });\n}\n\nlet element = document.getElementById('app');\n\nif (element) {\n    try {\n        renderDashboard(element, store);\n    }\n    catch (e) {\n        console.warn(\"Failed to load dashboard. Asking user to wipe data and retry. The error will be printed below...\");\n        // TODO: Rendering of error message sux\n        if (confirm(\"Failed to load dashboard. Reset all Data?\\n\\nPress cancel and check the browser console for more details.\")) {\n            store.dispatch(Store.clearState());\n            renderDashboard(element, store);\n        }\n        else {\n            throw e;\n        }\n\n    }\n}\nelse {\n    console.warn(\"Can not get element '#app' from DOM. Okay for headless execution.\");\n}\n\n\nfunction renderDashboard(element, store) {\n    ReactDOM.render(\n        <Provider store={store}>\n            <Layout/>\n        </Provider>,\n        element);\n\n    DatasourceWorker.start();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","import * as React from \"react\"\nimport {Component} from \"react\"\nimport WidgetGrid from \"./widgets/widgetGrid.ui\"\nimport $ from \"jquery\"\nimport LayoutsNavItem from \"./layouts/layouts.ui\"\nimport WidgetConfigDialog from \"./widgets/widgetConfigDialog.ui\"\nimport DashboardMenuEntry from \"./dashboard/dashboardMenuEntry.ui\"\nimport ImportExportDialog from \"./dashboard/importExportDialog.ui\"\nimport DatasourceConfigDialog from \"./datasource/datasourceConfigDialog.ui\"\nimport DatasourceNavItem from \"./datasource/datasourceNavItem.ui\"\nimport WidgetsNavItem from \"./widgets/widgetsNavItem.ui\"\nimport PluginNavItem from './pluginApi/pluginNavItem.ui'\nimport PluginsDialog from './pluginApi/pluginsDialog.ui'\nimport * as Persistence from './persistence'\n\nexport default class Layout extends Component {\n    render() {\n        return <div>\n            <div>\n                <WidgetConfigDialog/>\n                <ImportExportDialog/>\n                <DatasourceConfigDialog/>\n                <PluginsDialog/>\n            </div>\n            <div className=\"container\">\n                <div className=\"ui fixed inverted main menu\">\n                    <div className=\"ui container\">\n                        <a href=\"#\" className=\"header item\">\n                            {/*<img className=\"logo\" src=\"assets/images/logo.png\"/>*/}\n                            Dashboard\n                        </a>\n\n                        <DashboardMenuEntry/>\n                        <WidgetsNavItem/>\n                        <DatasourceNavItem/>\n                        <PluginNavItem/>\n                        <LayoutsNavItem/>\n                        <a className=\"item\" onClick={() => Persistence.clearData()}>\n                            <i className=\"red bomb icon\"/>\n                            Reset Everything!\n                        </a>\n\n                    </div>\n                </div>\n\n                {/* TODO: Use custom classes for everything inside the Grid to make it customizable without breaking semantic-ui */}\n                <div className=\"ui grid\">\n                    <WidgetGrid/>\n                </div>\n            </div>\n        </div>\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pageLayout.js\n **/","import * as React from \"react\";\nimport {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport _ from \"lodash\";\nimport * as Widgets from \"./widgets\";\nimport WidgetFrame from \"./widgetFrame.ui\";\nimport WidgetPlugins from \"./widgetPlugins\";\nimport WidthProvider from \"./widthProvider.ui\";\nimport {Responsive as ResponsiveReactGridLayout} from \"react-grid-layout\";\nconst Prop = React.PropTypes;\nconst ResponsiveGrid = WidthProvider(ResponsiveReactGridLayout);\n\nrequire('react-grid-layout/css/styles.css');\n\nclass WidgetGrid extends Component {\n\n    onLayoutChange(layout) {\n        if (this.props.onLayoutChange) {\n            this.props.onLayoutChange(layout)\n        }\n    }\n\n    render() {\n        const props = this.props;\n        let widgetData:Array<object> = this.props.widgets || [];\n        // WidgetFrame must be loaded as function, else the grid is not working properly.\n        // TODO: Remove unknown widget from state\n        let widgets = widgetData.map((data) => {\n            let widget = WidgetPlugins.getPlugin(data.type);\n            if (!widget) {\n                console.warn(\"No WidgetPlugin for type '\" + data.type + \"'! Skipping rendering.\");\n                return null;\n            }\n            return WidgetFrame({widget: data, datasources: props.datasources})\n        }).filter(frame => frame !== null);\n\n        /* //Does NOT work that way:\n         let widgets = widgetData.map((data) => <WidgetFrame {...data}\n         key={data.id}\n         _grid={{x: data.col, y: data.row, w: data.width, h: data.height}}\n         />);*/\n        return (\n            <ResponsiveGrid className=\"column\" rowHeight={Widgets.ROW_HEIGHT}\n                            breakpoints={{lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0}}\n                            cols={{lg: 12, md: 12, sm: 12, xs: 6, xxs: 3}}\n                            draggableCancel=\".no-drag\"\n                            draggableHandle=\".drag\"\n                            onLayoutChange={this.onLayoutChange.bind(this)}\n            >\n                {widgets}\n            </ResponsiveGrid>\n        )\n    }\n}\n\nWidgetGrid.propTypes = {\n    widgets: Prop.array.isRequired,\n    datasources: Prop.object.isRequired,\n    onLayoutChange: Prop.func,\n    deleteWidget: Prop.func\n};\n\nexport default connect(\n    (state) => {\n        return {\n            widgets: _.valuesIn(state.widgets) || [],\n            datasources: state.datasources || {}\n        }\n    },\n    (dispatch) => {\n        return {\n            onLayoutChange: (layout) => {\n                dispatch(Widgets.updateLayout(layout))\n            },\n            deleteWidget: (id) => dispatch(Widgets.deleteWidget(id))\n        };\n    }\n)(WidgetGrid);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetGrid.ui.js\n **/","import * as React from 'react';\nimport {connect} from 'react-redux'\nimport * as WidgetConfig from './widgetConfig'\nimport WidgetPlugins from './widgetPlugins'\nimport {deleteWidget} from './widgets'\nimport DatasourcePlugins from '../datasource/datasourcePlugins'\nconst Prop = React.PropTypes;\n\n/**\n * The Dragable Frame of a Widget.\n * Contains generic UI controls, shared by all Widgets\n */\nconst WidgetFrame = (props) => {\n    const widgetState = props.widget;\n\n    let widgetPlugin = WidgetPlugins.getPlugin(widgetState.type);\n    console.assert(widgetPlugin, \"No registered widget with type: \" + widgetState.type);\n\n    const dataResolver = (id) => {\n        const ds = props.datasources[id];\n        if (!ds) {\n            //console.warn(\"Can not find Datasource with id \" + id + \" for widget: \", widgetState, \" Returning empty data!\");\n            return [];\n        }\n\n        return ds.data ? [...ds.data] : [];\n    };\n\n    return (\n        <div className=\"ui raised segments\"\n             style={{margin: 0, overflow: \"hidden\"}}\n             key={widgetState.id}\n             _grid={{x: widgetState.col, y: widgetState.row, w: widgetState.width, h: widgetState.height}}>\n\n            <div className=\"ui inverted segment\">\n                <div className=\"ui tiny horizontal right floated inverted list\">\n                    <ConfigWidgetButton className=\"right item\" widgetState={widgetState}\n                                        visible={(widgetPlugin.settings ? true : false)} icon=\"configure\"/>\n                    <a className=\"right item drag\">\n                        <i className=\"move icon drag\"></i>\n                    </a>\n                    <DeleteWidgetButton className=\"right floated item\" widgetState={widgetState} icon=\"remove\"/>\n                </div>\n                <div className=\"ui item top attached\">{widgetState.props.name || \"\\u00a0\"}</div>\n            </div>\n\n            <div className=\"ui segment\">\n                {widgetPlugin.getOrCreateInstance(widgetState.id)}\n                {/*React.createElement(widgetPlugin.Widget, {\n                    config: widgetState.props,\n                    _state: widgetState,\n                    getData: dataResolver\n                })*/}\n            </div>\n        </div>)\n};\n\n\nexport default WidgetFrame;\n\nclass WidgetButton extends React.Component {\n    render() {\n        let data = this.props.widgetState;\n        return <a className={this.props.className + (this.props.visible !== false ? \"\" : \" hidden transition\")}\n                  onClick={() => this.props.onClick(data)}>\n            <i className={this.props.icon + \" icon\"}></i>\n        </a>\n    }\n}\n\nlet DeleteWidgetButton = connect(\n    (state) => {\n        return {}\n    },\n    (dispatch) => {\n        return {\n            onClick: (widgetState) => {\n                dispatch(deleteWidget(widgetState.id))\n            }\n        };\n    }\n)(WidgetButton);\n\nlet ConfigWidgetButton = connect(\n    (state) => {\n        return {}\n    },\n    (dispatch) => {\n        return {\n            onClick: (widgetState) => {\n                dispatch(WidgetConfig.openWidgetConfigDialog(widgetState.id))\n            }\n        };\n    }\n)(WidgetButton);\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetFrame.ui.js\n **/","// @noflow\n// Intentional; Flow can't handle the bind on L20\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\n\n/*\n * A simple HOC that provides facility for listening to container resizes.\n */\nexport default (ComposedComponent) => {\n\n    class WidthProvider extends React.Component {\n\n        constructor(props) {\n            super(props);\n            this.state = {\n                mounted: false,\n                width: 1280\n            };\n        }\n\n        componentDidMount() {\n            this.setState({mounted: true});\n\n            window.addEventListener('resize', this.onWindowResize.bind(this));\n            // Call to properly set the breakpoint and resize the elements.\n            // Note that if you're doing a full-width element, this can get a little wonky if a scrollbar\n            // appears because of the grid. In that case, fire your own resize event, or set `overflow: scroll` on your body.\n            this.onWindowResize();\n        }\n\n        componentWillUnmount() {\n            window.removeEventListener('resize', this.onWindowResize);\n        }\n\n        onWindowResize(_event:Event, cb:Function) {\n            const node = ReactDOM.findDOMNode(this);\n\n\n            let padLeft = window.getComputedStyle(node, null).getPropertyValue('padding-left') || 0;\n            padLeft = parseInt(padLeft) || 0;\n\n\n            let padRight = window.getComputedStyle(node, null).getPropertyValue('padding-right') || 0;\n            padRight = parseInt(padRight) || 0;\n\n\n            this.setState({width: node.offsetWidth - padLeft - padRight}, cb);\n        };\n\n        render() {\n            if (this.props.measureBeforeMount && !this.state.mounted) return <div {...this.props} {...this.state} />;\n            return <ComposedComponent {...this.props} {...this.state} />;\n        }\n    }\n\n    WidthProvider.defaultProps = {\n        measureBeforeMount: false\n    };\n\n    WidthProvider.propTypes = {\n        // If true, will not render children until mounted. Useful for getting the exact width before\n        // rendering, to prevent any unsightly resizing.\n        measureBeforeMount: React.PropTypes.bool\n    };\n\n    return WidthProvider;\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widthProvider.ui.js\n **/","import React from 'react';\nimport {connect} from 'react-redux'\nimport _ from 'lodash'\nimport * as Layouts from './layouts'\nimport * as ui from '../ui/elements.ui'\nconst Prop = React.PropTypes;\n\n\n/*TODO: Add remove button next to each loadable layout\n * - Connect with Actions\n * */\nconst TopNavItem = (props) => {\n    return <div className=\"ui simple dropdown item\">\n        Layout\n        <i className=\"dropdown icon\"/>\n        <div className=\"ui menu\">\n            <SaveLayout/>\n            <ResetLayoutButton text=\"Reset Current Layout\" icon=\"undo\"/>\n            <SaveLayoutButton text=\"Save Layout\" icon=\"save\"/>\n            <div className=\"ui divider\"></div>\n            <div className=\"header\">Load Layout</div>\n\n            {props.layouts.map(layout => {\n                return <LayoutItem text={layout.name} icon=\"plus\" layout={layout}\n                                   key={layout.id}/>\n            })}\n\n        </div>\n    </div>\n};\n\nTopNavItem.propTypes = {\n    layouts: Prop.arrayOf(\n        Prop.shape({\n            name: Prop.string\n        })\n    ),\n    widgets: Prop.object,\n    currentLayout: Prop.object\n};\n\nexport default connect((state) => {\n        return {\n            layouts: _.valuesIn(state.layouts),\n            currentLayout: state.currentLayout,\n            widgets: state.widgets\n        }\n    },\n    (dispatch)=> {\n        return {\n        }\n    })(TopNavItem);\n\nclass SaveInput extends React.Component {\n    onEnter(e) {\n        if (e.key === 'Enter') {\n            this.props.onEnter(this.refs.input.value, this.props);\n            this.refs.input.value = '';\n        }\n    }\n\n    render() {\n        return <div className=\"item\">\n            <div className=\"ui icon input\">\n                <input type=\"text\" placeholder=\"Save as...\" ref=\"input\" onKeyPress={this.onEnter.bind(this)}/>\n                <i className=\"save icon\" onClick={this.onEnter.bind(this)} style={{cursor:\"pointer\", zIndex:90000}}/>\n            </div>\n        </div>\n    }\n}\n\nSaveInput.propTypes = {\n    onEnter: Prop.func,\n    widgets: Prop.object\n};\n\nconst SaveLayout = connect((state) => {\n        return {\n            layouts: _.valuesIn(state.layouts),\n            widgets: state.widgets\n        }\n    },\n    (dispatch, props)=> {\n        return {\n            onEnter: (name, props) => {\n                dispatch(Layouts.addLayout(name, props.widgets))\n            }\n        }\n    },\n    (stateProps, dispatchProps, ownProps)=> {\n        return {...ownProps, ...stateProps, ...dispatchProps}\n    }\n)(SaveInput);\n\nclass MyLayoutItem extends React.Component {\n    render() {\n        let props = this.props;\n\n        let indexIconClass = null;\n        if (props.currentLayout.id == props.layout.id) {\n            indexIconClass = \"tiny selected radio icon\";\n        }\n        else {\n            indexIconClass = \"tiny radio icon\";\n        }\n\n        return <a className=\"item\" href=\"#\" onClick={() => props.onClick(props)}>\n            <i className={indexIconClass}/>\n            <i className=\"right floated remove huge icon\" onClick={(e) => {\n            props.deleteLayout(props);\n            e.stopPropagation();\n            }}/> {props.text}\n        </a>;\n    }\n}\n\nMyLayoutItem.propTypes = {\n    deleteLayout: Prop.func.isRequired,\n    onClick: Prop.func.isRequired,\n    layout: Prop.object.isRequired,\n    currentLayout: Prop.object\n};\n\nconst LayoutItem = connect(\n    (state) => {\n        return {\n            currentLayout: state.currentLayout\n        }\n    },\n    (dispatch, props)=> {\n        return {\n            deleteLayout: (props) => dispatch(Layouts.deleteLayout(props.layout.id)),\n            onClick: (props) => dispatch(Layouts.loadLayout(props.layout.id))\n        }\n    }\n)(MyLayoutItem);\n\n/*\n const ResetLayoutButtonc = (props) => {\n return <ui.LinkItem\n onClick={this.props.resetLayout.bind(this, this.props)}></ui.LinkItem>\n };*/\n\n\nconst ResetLayoutButton = connect(\n    (state) => {\n        return {\n            id: state.currentLayout.id,\n            disabled: !state.currentLayout.id\n        }\n    },\n    (dispatch, props)=> {\n        return {\n            onClick: (props) => dispatch(Layouts.loadLayout(props.id))\n        }\n    }\n)(ui.LinkItem);\n\nconst SaveLayoutButton = connect(\n    (state) => {\n        return {\n            id: state.currentLayout.id,\n            widgets: state.widgets,\n            disabled: !state.currentLayout.id\n        }\n    },\n    (dispatch)=> {\n        return {\n            onClick: (props) => dispatch(Layouts.updateLayout(props.id, props.widgets))\n        }\n    }\n)(ui.LinkItem);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layouts/layouts.ui.js\n **/","import React from 'react';\nimport {connect} from 'react-redux'\nimport * as Import from './import'\nimport ModalDialog from '../modal/modalDialog.ui'\nimport * as Modal from '../modal/modalDialog'\nimport * as ModalIds from '../modal/modalDialogIds'\nconst Prop = React.PropTypes;\n\n\nconst TopNavItem = (props) => {\n    return <div className=\"ui simple dropdown item\">\n        Board\n        <i className=\"dropdown icon\"/>\n        <div className=\"ui menu\">\n            <a className=\"item\" onClick={() => props.showModal(ModalIds.DASHBOARD_IMPORT_EXPORT)}>\n                <i className=\"folder open outline icon\"/>\n                Import / Export\n            </a>\n\n        </div>\n    </div>\n};\n\nTopNavItem.propTypes = {\n    showModal: Prop.func.isRequired\n};\n\nexport default connect((state) => {\n    return {\n        state: state\n    }\n}, (dispatch) => {\n    return {\n        showModal: (id) => dispatch(Modal.showModal(id))\n    }\n})(TopNavItem);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard/dashboardMenuEntry.ui.js\n **/","import React from 'react';\nimport {connect} from 'react-redux'\nimport * as Import from './import'\nimport ModalDialog from '../modal/modalDialog.ui.js'\nimport * as ModalIds from '../modal/modalDialogIds'\nconst Prop = React.PropTypes;\n\nclass ImportExportDialog extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n        this.state = {state: null}\n    }\n\n    componentWillReceiveProps(nextProps) {\n        //this.refs.data.value = Import.serialize(nextProps.state);\n    }\n\n    componentDidMount() {\n    }\n\n    _loadData() {\n        this.refs.data.value = Import.serialize(this.props.state);\n        this.refs.data.focus();\n        this.refs.data.select();\n    }\n\n    _clearData() {\n        this.refs.data.value = \"\";\n        this.refs.data.focus();\n        this.refs.data.select();\n    }\n\n    _exportToClipboard() {\n        this.refs.data.focus();\n        this.refs.data.select();\n\n        try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful';\n            console.log('Copying text command was ' + msg);\n        } catch (err) {\n            alert('Oops, unable to copy');\n        }\n    }\n\n    render() {\n        let props = this.props;\n        const actions = [\n            {\n                className: \"ui right black button\",\n                label: \"Close\",\n                onClick: () => true\n            },\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"folder open icon\",\n                label: \"Import\",\n                onClick: () => {\n                    props.doImport(this.refs.data.value);\n                    return true;\n                }\n            }\n        ];\n\n        return <ModalDialog id={ModalIds.DASHBOARD_IMPORT_EXPORT}\n                            title=\"Import / Export Dashboard\"\n                            actions={actions}\n        >\n            <div className=\"ui one column grid\">\n                <div className=\"column\">\n                    <button className=\"ui compact labeled icon button\" onClick={this._loadData.bind(this)}>\n                        <i className=\"refresh icon\"></i>\n                        Load Data\n                    </button>\n                    <button className=\"ui compact labeled icon button\" onClick={this._exportToClipboard.bind(this)}>\n                        <i className=\"upload icon\"></i>\n                        Copy to Clipboard\n                    </button>\n                    <button className=\"ui compact labeled icon button\" onClick={this._clearData.bind(this)}>\n                        <i className=\"erase icon\"></i>\n                        Clear Data\n                    </button>\n                </div>\n                <div className=\"column\">\n                    <form className=\"ui form\">\n                        <div className=\"field\">\n                            <label>Data</label>\n                            <textarea ref=\"data\" rows=\"10\" onFocus={(e) => e.target.select()}\n                                      placeholder='Click \"Load Data\" to get data for export or paste your data here ...'/>\n                        </div>\n                    </form>\n\n                </div>\n            </div>\n        </ModalDialog>\n    };\n}\n\nImportExportDialog.propTypes = {\n    state: Prop.object,\n    doImport: Prop.func.isRequired\n};\n\n\nexport default connect((state) => {\n    return {\n        state: state\n    }\n}, (dispatch) => {\n    return {\n        doImport: (state) => dispatch(Import.doImport(state))\n    }\n})(ImportExportDialog);\n\n\n/** WEBPACK FOOTER **\n ** ./src/dashboard/importExportDialog.ui.js\n **/","import React from 'react'\nimport ModalDialog from '../modal/modalDialog.ui.js'\nimport * as Datasource from './datasource'\nimport DatasourcePlugins from './datasourcePlugins'\nimport {connect} from 'react-redux'\nimport _ from 'lodash'\nimport * as ui from '../ui/elements.ui'\nimport SettingsForm from '../ui/settingsForm.ui'\nimport {reset} from 'redux-form';\nimport * as ModalIds from '../modal/modalDialogIds'\nconst Prop = React.PropTypes;\n\nconst DIALOG_ID = ModalIds.DATASOURCE_CONFIG;\nconst FORM_ID = \"datasource-settings-form\";\n\nexport function unshiftIfNotExists(array:Array, element, isEqual = (a, b) => a.id == b.id) {\n    if (array.find((e) => isEqual(e, element)) == undefined) {\n        array.unshift(element);\n    }\n}\n\nclass DatasourceConfigModal extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedType: ''\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.dialogData.datasource) {\n            let selectedType = nextProps.dialogData.datasource.type;\n            this.state = {\n                selectedType: selectedType\n            };\n        }\n    }\n\n    onSubmit(formData, dispatch) {\n        let id = undefined;\n        if (this._isEditing()) {\n            id = this._getEditingDatasource().id;\n        }\n        this.props.createOrUpdateDatasource(id, this.state.selectedType, formData);\n        return true;\n    }\n\n    resetForm() {\n        this.props.resetForm(FORM_ID);\n    }\n\n    _isEditing() {\n        return !!this.props.dialogData.datasource;\n    }\n\n    _getEditingDatasource() {\n        return this.props.dialogData.datasource;\n    }\n\n\n    render() {\n        const props = this.props;\n        const actions = [\n            {\n                className: \"ui right button\",\n                label: \"Reset\",\n                onClick: () => {\n                    this.resetForm();\n                    return false;\n                }\n            },\n            {\n                className: \"ui right red button\",\n                label: \"Cancel\",\n                onClick: () => {\n                    this.resetForm();\n                    return true;\n                }\n            },\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"save icon\",\n                label: this._isEditing() ? \"Save\" : \"Create\",\n                onClick: () => {\n                    const success = this.refs.form.submit();\n                    if (success) this.resetForm();\n                    return success;\n                }\n            }\n        ];\n\n        const datasources = DatasourcePlugins.getPlugins();\n        let selectedSource;\n        if (this.state.selectedType) {\n            selectedSource = DatasourcePlugins.getPlugin(this.state.selectedType);\n        }\n        else {\n            selectedSource = {settings: []};\n        }\n        \n        let settings = [];\n        if (selectedSource && selectedSource.settings) {\n            settings = [...selectedSource.settings];\n        }\n        unshiftIfNotExists(settings, {\n            id: 'name',\n            name: 'Name',\n            type: 'string',\n            defaultValue: \"\"\n        });\n\n\n        const fields = settings.map(setting => setting.id);\n        let initialValues = {};\n        if (this._isEditing()) {\n            initialValues = {...this._getEditingDatasource().props}\n        }\n        else {\n            initialValues = settings.reduce((initialValues, setting) => {\n                if (setting.defaultValue !== undefined) {\n                    initialValues[setting.id] = setting.defaultValue;\n                }\n                return initialValues;\n            }, {});\n        }\n\n        let title = \"Create Datasource\";\n        if (this._isEditing()) {\n            title = \"Edit Datasource\";\n        }\n\n        return <ModalDialog id={DIALOG_ID}\n                            title={title}\n                            actions={actions}\n        >\n            <div className=\"ui one column grid\">\n                <div className=\"column\">\n                    <div className=\"field\">\n                        <label>Type</label>\n                        <select className=\"ui fluid dropdown\" name=\"type\" value={this.state.selectedType}\n                                onChange={(e) => {this.setState({selectedType: e.target.value});}}\n                            {...fields.type}\n                        >\n                            <option key=\"none\" value=\"\">Select Type...</option>\n                            {_.valuesIn(datasources).map(source => {\n                                return <option key={source.type} value={source.type}>{source.name}</option>\n                            })}\n                        </select>\n                    </div>\n                    <ui.Divider/>\n                    <SettingsForm ref=\"form\"\n                                  form={FORM_ID}\n                                  onSubmit={this.onSubmit.bind(this)}\n                                  fields={[\"type\", \"name\", \"interval\", ...fields]}\n                                  settings={settings}\n                                  initialValues={initialValues}\n                    />\n\n                </div>\n            </div>\n        </ModalDialog>\n    };\n}\n\nDatasourceConfigModal.propTypes = {\n    createOrUpdateDatasource: Prop.func.isRequired,\n    resetForm: Prop.func.isRequired,\n    dialogData: Prop.object.isRequired\n};\n\n\nexport default connect(\n    (state) => {\n        return {\n            dialogData: state.modalDialog.data || {}\n        }\n    },\n    (dispatch) => {\n        return {\n            resetForm: (id) => dispatch(reset(id)),\n            createOrUpdateDatasource: (id, type, dsProps) => {\n                dispatch(Datasource.createOrUpdateDatasource(id, type, dsProps))\n            }\n        }\n    }\n)(DatasourceConfigModal);\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceConfigDialog.ui.js\n **/","import React from \"react\";\nimport * as Datasource from \"./datasource\";\nimport {connect} from \"react-redux\";\nimport _ from \"lodash\";\nimport * as ui from \"../ui/elements.ui\";\nimport {reset} from \"redux-form\";\nconst Prop = React.PropTypes;\n\n\nconst TopNavItem = (props) => {\n    return <div className=\"ui simple dropdown item\">\n        Datasources\n        <i className=\"dropdown icon\"/>\n        <div className=\"ui menu\">\n            <ui.LinkItem icon=\"plus\" onClick={() => {props.createDatasource()}}>Add Datasource</ui.LinkItem>\n            <ui.Divider/>\n            {\n                _.valuesIn(props.datasources).map(ds => {\n                    return <ui.LinkItem key={ds.id} onClick={() => { props.editDatasource(ds.id)}}>\n                        <ui.Icon type=\"delete\" size=\"huge\" align=\"right\"\n                                 onClick={(e) => {\n                        e.stopPropagation();\n                           e.preventDefault();\n                        props.deleteDatasource(ds.id);\n                        }}\n                        />\n                        {ds.props.name}\n                    </ui.LinkItem>\n                })\n            }\n        </div>\n    </div>\n};\n\nTopNavItem.propTypes = {\n    createDatasource: Prop.func.isRequired,\n    editDatasource: Prop.func.isRequired,\n    deleteDatasource: Prop.func.isRequired,\n    datasources: Prop.objectOf(\n        Prop.shape({\n            type: Prop.string.isRequired,\n            id: Prop.string.isRequired,\n            props: Prop.object.isRequired\n        })\n    ).isRequired\n};\n\nexport default connect(\n    (state) => {\n        return {\n            datasources: state.datasources\n        }\n    },\n    (dispatch) => {\n        return {\n            createDatasource: () => dispatch(Datasource.startCreateDatasource()),\n            editDatasource: (id) => dispatch(Datasource.startEditDatasource(id)),\n            deleteDatasource: (id) => dispatch(Datasource.deleteDatasource(id))\n        }\n    }\n)(TopNavItem);\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceNavItem.ui.js\n **/","import React from \"react\";\nimport * as Widgets from \"./widgets\";\nimport {connect} from \"react-redux\";\nimport * as WidgetConfig from './widgetConfig'\nimport _ from \"lodash\";\nimport * as ui from \"../ui/elements.ui\";\nimport {reset} from \"redux-form\";\nconst Prop = React.PropTypes;\n\n\nconst WidgetsNavItem = (props) => {\n\n    return <div className=\"ui simple dropdown item\">\n        Add Widget\n        <i className=\"dropdown icon\"/>\n        <div className=\"ui menu\">\n\n            <ui.Divider/>\n            {\n                _.valuesIn(props.plugins).filter(p => p.isWidget).map(widgetPlugin => {\n                    return <AddWidget key={widgetPlugin.id} text={widgetPlugin.typeInfo.name} type={widgetPlugin.typeInfo.type}/>;\n                })\n            }\n        </div>\n    </div>;\n};\n\nexport default connect(\n    (state) => {\n        return {\n            plugins: state.plugins\n        }\n    }\n)(WidgetsNavItem);\n\nconst AddWidget = connect(\n    (state) => {\n        return {}\n    },\n    (dispatch) => {\n        return {\n            onClick: (props) => {\n                dispatch(WidgetConfig.createWidget(props.type))\n            }\n        }\n    }\n)(ui.LinkItem);\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/widgetsNavItem.ui.js\n **/","import React from \"react\";\nimport _ from \"lodash\";\nimport * as ui from \"../ui/elements.ui\";\nimport {connect} from 'react-redux'\nimport {reset} from \"redux-form\";\nimport * as ModalIds from '../modal/modalDialogIds'\nimport * as Modal from '../modal/modalDialog'\nconst Prop = React.PropTypes;\n\n\nconst TopNavItem = (props) => {\n    return <a className=\"item\" onClick={() => props.showPluginsDialog()}>\n        Plugins\n    </a>\n};\n\n\nexport default connect(\n    (state) => {\n        return {}\n    },\n    (dispatch) => {\n        return {\n            showPluginsDialog: () => {\n                dispatch(Modal.showModal(ModalIds.PLUGINS))\n            }\n        }\n    }\n)(TopNavItem);\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginNavItem.ui.js\n **/","import React from 'react'\nimport ModalDialog from '../modal/modalDialog.ui.js'\nimport {connect} from 'react-redux'\nimport _ from 'lodash'\nimport {reset} from 'redux-form';\nimport * as ui from '../ui/elements.ui'\nimport * as ModalIds from '../modal/modalDialogIds'\nimport * as Modal from '../modal/modalDialog'\nimport * as Plugins from '../pluginApi/plugins'\nconst Prop = React.PropTypes;\n\nclass PluginsModal extends React.Component {\n\n    render() {\n        const props = this.props;\n\n        const actions = [\n            {\n                className: \"ui right labeled icon positive button\",\n                iconClass: \"save icon\",\n                label: \"Close\",\n                onClick: () => {\n                    props.closeDialog()\n                }\n            }\n        ];\n\n        const datasourceStates = _.valuesIn(props.plugins).filter(ds => ds.isDatasource);\n        const widgetStates = _.valuesIn(props.plugins).filter(ds => ds.isWidget);\n\n        return <ModalDialog id={ModalIds.PLUGINS}\n                            title=\"Plugins\"\n                            actions={actions}\n        >\n            <div className=\"ui one column grid\">\n                <div className=\"column\">\n                    <form className=\"ui form\">\n                        <h4 className=\"ui dividing header\">Load Plugin</h4>\n                        <div className=\"field\">\n                            <label>From URL</label>\n                            <div className=\"field\">\n                                <input ref=\"pluginUrl\" type=\"text\" name=\"plugin-url\"\n                                       placeholder=\"http://my-page.com/myPlugin.js\"\n                                       defaultValue=\"http://localhost:8080/plugins/TestWidgetPlugin.js\"\n                                />\n                            </div>\n                        </div>\n                        <div className=\"ui button\" onClick={() => props.loadPlugin(this.refs.pluginUrl.value)}\n                             tabIndex=\"0\">\n                            Load Plugin\n                        </div>\n                    </form>\n                    <h4 className=\"ui dividing header\">Datasource Plugins</h4>\n                    <DatasourcePluginList datasourceStates={datasourceStates} {...props} />\n                    <h4 className=\"ui dividing header\">Widget Plugins</h4>\n                    <WidgetPluginList widgetStates={widgetStates} {...props} />\n                </div>\n            </div>\n        </ModalDialog>\n    };\n}\n\nPluginsModal.propTypes = {\n    plugins: Prop.object.isRequired,\n    closeDialog: Prop.func.isRequired,\n    loadPlugin: Prop.func.isRequired,\n    removePlugin: Prop.func.isRequired\n};\n\nexport default connect(\n    (state) => {\n        return {\n            plugins: state.plugins\n        }\n    },\n    (dispatch) => {\n        return {\n            closeDialog: () => dispatch(Modal.closeModal()),\n            // TODO: Render loading indicator while Plugin loads\n            loadPlugin: (url) => dispatch(Plugins.loadPluginFromUrl(url)),\n            removePlugin: (type) => dispatch(Plugins.unloadPlugin(type))\n\n        }\n    }\n)(PluginsModal);\n\nconst DatasourcePluginList = (props) => {\n    return <div className=\"ui five cards\">\n        {\n            props.datasourceStates.map(dsState => {\n                return <PluginCard key={dsState.id} pluginState={dsState} {...props}/>;\n            })\n        }\n    </div>\n};\n\nconst WidgetPluginList = (props) => {\n    return <div className=\"ui five cards\">\n        {\n            props.widgetStates.map(dsState => {\n                return <PluginCard key={dsState.id} pluginState={dsState} {...props}/>;\n            })\n        }\n    </div>\n};\n\nDatasourcePluginList.propTypes = {\n    datasourceStates: Prop.array.isRequired\n};\n\nclass PluginCard extends React.Component {\n\n    _copyUrl() {\n        this.refs.url.focus();\n        this.refs.url.select();\n        document.execCommand('copy');\n    }\n\n    render() {\n        const props = this.props;\n        const dsState = props.pluginState;\n        return <div className=\"card\">\n            <div className=\"content\">\n                <div className=\"header\">{dsState.typeInfo.name}</div>\n                <div className=\"description\">\n                    <p>Type: {dsState.typeInfo.type}</p>\n                    <p>{dsState.typeInfo.description ? dsState.typeInfo.description : \"No Description.\"}</p>\n                </div>\n            </div>\n            <div className=\"extra content\">\n                <i className=\"copy outline icon\" onClick={() => {this._copyUrl()}} style={{display:\"inline\"}}/>\n                <div className=\"ui large transparent input\">\n                    <input type=\"text\" ref=\"url\"\n                           readOnly\n                           style={{width: \"100%\", paddingLeft: 0, paddingRight: 0}}\n                           placeholder=\"Plugin Url ...\"\n                           defaultValue={dsState.url ? dsState.url : \"Packaged\"}/>\n                </div>\n            </div>\n            <div className=\"ui bottom attached button\" onClick={() => props.removePlugin(dsState.id)}>\n                <i className=\"trash icon\"/>\n                Remove\n            </div>\n        </div>\n    }\n}\n\nPluginCard.propTypes = {\n    pluginState: Prop.object.isRequired,\n    removePlugin: Prop.func.isRequired\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/pluginsDialog.ui.js\n **/","import * as React from 'react';\nimport {Component} from 'react';\nimport {connect} from 'react-redux'\n\nexport const TYPE_INFO = {\n    type: \"text\",\n    name: \"Text\",\n    description: \"Display content of a datasource as plain text\",\n    settings: [\n        {\n            id: 'datasource',\n            name: 'Datasource',\n            type: 'datasource',\n            description: \"Datasource to get the text\"\n        }\n    ]\n};\n\nexport class Widget extends Component {\n\n    render() {\n        const props = this.props;\n        const data = props.getData(this.props.config.datasource);\n\n        if(!data || data.length == 0) {\n            return <p>No data</p>\n        }\n        \n        return <p>{JSON.stringify(data)}</p>\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/plugins/textWidget.js\n **/","import * as React from 'react'\nimport {Component} from 'react'\nimport * as d3 from 'd3';\nimport * as c3 from 'c3';\n\n\nexport const TYPE_INFO = {\n    type: \"chart\",\n    name: \"Chart\",\n    description: \"Renders a chart. Will be way more flexible in future.\",\n    settings: [\n        {\n            id: 'datasource',\n            name: 'Datasource',\n            type: 'datasource'\n        },\n        {\n            id: 'chartType',\n            name: 'Chart Type',\n            type: 'option',\n            defaultValue: 'spline',\n            options: [\n                'line',\n                'spline',\n                'step',\n                'area',\n                'area-spline',\n                'area-step',\n                'bar',\n                'scatter',\n                'pie',\n                'donut',\n                'gauge'\n            ]\n        },\n        {\n            id: 'dataKeys',\n            type: \"json\",\n            name: \"Data Keys\",\n            description: \"An array of Keys of an data object that define the data sets\",\n            defaultValue: '[\"value\"]'\n        },\n        {\n            id: 'xKey',\n            type: \"string\",\n            name: \"X Key\",\n            description: \"Key of an data object that defines the X value\",\n            defaultValue: \"x\"\n        },\n        {\n            id: 'names',\n            type: \"json\",\n            name: \"Data Names\",\n            description: \"Json object that maps Data Keys to displayed names\",\n            defaultValue: '{\"value\": \"My Value\"}'\n        },\n        {\n            id: 'gaugeData',\n            type: \"json\",\n            name: \"Gauge Data\",\n            description: \"Json object that is passed as configuration for gauge chats\",\n            defaultValue: JSON.stringify({\"min\": 0, \"max\": 100, units: ' %'})\n        }/*,\n         {\n         id: 'donutData',\n         type: \"json\",\n         name: \"Gauge Data\",\n         description: \"Json object that maps Data Keys to displayed names\",\n         defaultValue: JSON.stringify({title: 'Title'})\n         }*/\n    ]\n};\n\nfunction safeParseJsonObject(string) {\n    try {\n        return JSON.parse(string);\n    }\n    catch (e) {\n        console.error(\"Was not able to parse JSON: \" + string);\n        return {}\n    }\n}\n\nfunction safeParseJsonArray(string) {\n    try {\n        return JSON.parse(string);\n    }\n    catch (e) {\n        console.error(\"Was not able to parse JSON: \" + string);\n        return {}\n    }\n}\n\nexport class Widget extends Component {\n\n    componentDidMount() {\n        this._createChart(this.props);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.config !== this.props.config\n            || nextProps._state.height !== this.props._state.height) {\n            this._createChart(nextProps);\n        }\n    }\n\n    _createChart(props) {\n        const config = props.config;\n        const data = props.getData(config.datasource);\n        this.chart = c3.generate({\n            bindto: '#chart-' + props._state.id,\n            size: {\n                height: props._state.availableHeightPx\n            },\n            data: {\n                json: data,\n                type: config.chartType,\n                // Seems not to work with chart.load, so on update props we have to recreate the chart to update\n                names: safeParseJsonObject(config.names),\n                keys: {\n                    x: config.xKey ? config.xKey : undefined,\n                    value: safeParseJsonArray(config.dataKeys)\n                }\n            },\n            axis: {\n                x: {\n                    tick: {\n                        culling: false\n                    }\n                }\n            },\n            gauge: safeParseJsonObject(config.gaugeData),\n            donut: {\n                label: {\n                    show: false\n                }\n            },\n            transition: {\n                duration: 0\n            }\n        })\n\n    }\n\n    _renderChart() {\n        if (!this.chart) {\n            return;\n        }\n        const props = this.props;\n        const config = props.config;\n        const data = props.getData(config.datasource);\n\n        // TODO: Do not take last element, but all new elements ;)\n        const lastElement = data.length > 0 ? data[data.length - 1] : {};\n\n\n        /* chart.flow does not work with x axis categories and messes up the x values.\n         this.chart.flow({\n         json: [lastElement],\n         keys: {\n         //x: \"x\",//config.xKey || undefined,\n         value: safeParseJsonObject(config.dataKeys)\n         },\n         labels: false,\n         //to: firstElement[config.xKey],\n         duration: 500\n         });     */\n\n        this.chart.load({\n            json: data,\n            keys: {\n                x: config.xKey || undefined,\n                value: safeParseJsonObject(config.dataKeys)\n            },\n            labels: false\n        });\n\n\n    }\n\n    render() {\n        console.log(\"render chart\");\n        this._renderChart();\n        return <div className=\"\" id={'chart-' + this.props._state.id}></div>\n    }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/plugins/chartWidget.js\n **/","import * as Datasource from './datasource'\nimport DatasourcePlugins from './datasourcePlugins'\nimport store from '../store'\n\nlet heartbeat;\n\nexport function start() {\n    if (heartbeat) {\n        clearInterval(heartbeat);\n    }\n    heartbeat = setInterval(()=> {\n        store.dispatch(Datasource.fetchDatasourceData());\n    }, 1000);\n}\n\nexport function stop() {\n    if (heartbeat) {\n        clearInterval(heartbeat);\n        heartbeat = null;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/datasourceWorker.js\n **/","import {assert} from 'chai'\n\nexport const TYPE_INFO = {\n    type: \"time\",\n    name: \"Time\"\n};\n\n\nexport class Datasource {\n\n    constructor() {\n        \n    }\n\n    renderTime() {\n        const currentTime = new Date();\n        let diem = 'AM';\n        let h = currentTime.getHours();\n        let m = currentTime.getMinutes();\n        let s = currentTime.getSeconds();\n\n        if (h === 0) {\n            h = 12;\n        } else if (h > 12) {\n            h = h - 12;\n            diem = 'PM';\n        }\n\n        if (m < 10) {\n            m = '0' + m;\n        }\n        if (s < 10) {\n            s = '0' + s;\n        }\n        return {\n            hours: h,\n            minutes: m,\n            seconds: s,\n            diem\n        };\n    };\n\n    getValues() {\n        const now = new Date();\n        return [{date: now}]\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/datasource/plugins/timeDatasource.js\n **/","import * as FreeboardDatasource from './freeboardDatasource'\nimport * as Plugins from '../pluginApi/plugins'\nimport * as PluginApi from './pluginApi'\nimport store from '../store'\n\nfunction mapSettings(settings) {\n    return settings.map(setting => {\n        return {\n            id: setting[\"name\"],\n            name: setting[\"display_name\"],\n            description: setting[\"description\"],\n            type: setting[\"type\"],\n            defaultValue: setting[\"default_value\"],\n            required: setting[\"required\"]\n        }\n    })\n}\n\nconst freeboardPluginApi = {\n\n    /**\n     * Method to register a DatasourcePlugin as you would with the IoT-Dashboard API\n     * But supporting the Freeboard syntax\n     * @param plugin A Freeboard Datasource Plugin.\n     * See: https://freeboard.github.io/freeboard/docs/plugin_example.html\n     */\n    loadDatasourcePlugin(plugin) {\n        console.log(\"Loading freeboard Plugin: \", plugin);\n\n        let typeName = plugin[\"type_name\"];\n        let displayName = plugin[\"display_name\"];\n        let description = plugin[\"description\"];\n        let externalScripts = plugin[\"external_scripts\"];\n        let settings = plugin[\"settings\"];\n        let newInstance = plugin[\"newInstance\"];\n\n        let TYPE_INFO = {\n            type: typeName,\n            name: displayName,\n            description: description,\n            dependencies: externalScripts,\n            settings: mapSettings(settings)\n        };\n\n        let dsPlugin = {\n            TYPE_INFO,\n            Datasource: FreeboardDatasource.create(newInstance, TYPE_INFO)\n        };\n\n        PluginApi.registerDatasourcePlugin(dsPlugin.TYPE_INFO, dsPlugin.Datasource);\n    }\n\n\n};\n\nwindow.freeboard = freeboardPluginApi;\n\nexport default freeboardPluginApi;\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/freeboardPluginApi.js\n **/","import loadjs from 'loadjs';\nimport _ from 'lodash'\n\n// **newInstance(settings, newInstanceCallback, updateCallback)** (required) : A function that will be called when a new instance of this plugin is requested.\n// * **settings** : A javascript object with the initial settings set by the user. The names of the properties in the object will correspond to the setting names defined above.\n// * **newInstanceCallback** : A callback function that you'll call when the new instance of the plugin is ready. This function expects a single argument, which is the new instance of your plugin object.\n// * **updateCallback** : A callback function that you'll call if and when your datasource has an update for freeboard to recalculate. This function expects a single parameter which is a javascript object with the new, updated data. You should hold on to this reference and call it when needed.\n\n\nexport function create(newInstance, TYPE_INFO) {\n\n    return function FreeboardDatasource(newInstance, props = {}, history = []) {\n        this.instance = null;\n        this.data = history;\n        this.getValues = function () {\n            if (_.isArray(this.data)) {\n                return this.data;\n            }\n            return [this.data];\n        }.bind(this);\n\n        this.updateProps = function (newProps) {\n            console.log(\"Updating Datasource props\");\n            this.instance.onSettingsChanged(newProps)\n        }.bind(this);\n\n        let newInstanceCallback = function (instance) {\n            this.instance = instance;\n            instance.updateNow();\n        }.bind(this);\n\n        let updateCallback = function (newData) {\n            this.data = newData;\n        }.bind(this);\n\n        // TODO: Maybe no needed anymore when we take care of dependencies elsewhere\n        if (TYPE_INFO.dependencies) {\n            loadjs([...TYPE_INFO.dependencies], createNewInstance);\n        }\n        else {\n            createNewInstance();\n        }\n\n        function createNewInstance() {\n            newInstance(props, newInstanceCallback, updateCallback);\n        }\n\n    }.bind(this, newInstance)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pluginApi/freeboardDatasource.js\n **/"],"sourceRoot":""}